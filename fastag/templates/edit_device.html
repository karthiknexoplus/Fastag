{% extends 'base.html' %}
{% block title %}Edit Device - FASTag Parking{% endblock %}
{% block content %}
<div class="container-fluid" style="max-width: 600px;">
    <h2 class="mb-4"><i class="fas fa-edit fastag-menu-icon me-2"></i><span class="fastag-menu-label">Edit Device</span></h2>
    <form method="POST" class="card p-3 shadow-sm border-0">
        <div class="mb-3">
            <label class="form-label"><i class="fas fa-barcode fastag-form-icon me-1"></i><span class="fastag-form-label">Device ID</span></label>
            <input type="text" class="form-control" value="{{ device['device_id'] }}" disabled>
        </div>
        <div class="mb-3">
            <label class="form-label"><i class="fas fa-mobile-alt fastag-form-icon me-1"></i><span class="fastag-form-label">Model</span></label>
            <input type="text" name="model" class="form-control" value="{{ device['model'] }}">
        </div>
        <div class="mb-3">
            <label class="form-label"><i class="fas fa-industry fastag-form-icon me-1"></i><span class="fastag-form-label">Manufacturer</span></label>
            <input type="text" name="manufacturer" class="form-control" value="{{ device['manufacturer'] }}">
        </div>
        <div class="mb-3">
            <label class="form-label"><i class="fas fa-android fastag-form-icon me-1"></i><span class="fastag-form-label">Android Version</span></label>
            <input type="text" name="android_version" class="form-control" value="{{ device['android_version'] }}">
        </div>
        <div class="mb-3">
            <label class="form-label"><i class="fas fa-user fastag-form-icon me-1"></i><span class="fastag-form-label">Assign User</span></label>
            <select name="assigned_user_id" class="form-select">
                <option value="">-- None --</option>
                {% for u in users %}
                <option value="{{ u['id'] }}" {% if device['assigned_user_id'] == u['id'] %}selected{% endif %}>{{ u['username'] }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label class="form-label"><i class="fas fa-user-tag fastag-form-icon me-1"></i><span class="fastag-form-label">Username</span></label>
            <input type="text" name="username" class="form-control" value="{{ device['username'] }}">
        </div>
        <div class="mb-3">
            <label class="form-label"><i class="fas fa-key fastag-form-icon me-1"></i><span class="fastag-form-label">Password</span></label>
            <input type="text" name="password" class="form-control" value="{{ device['password'] }}">
        </div>
        <div class="form-check mb-3">
            <input class="form-check-input" type="checkbox" name="approved" id="approved" {% if device['approved'] %}checked{% endif %}>
            <label class="form-check-label" for="approved">
                <i class="fas fa-check-circle fastag-form-icon me-1"></i><span class="fastag-form-label">Approved</span>
            </label>
        </div>
        <div class="text-end">
            <button type="submit" class="btn btn-primary"><i class="fas fa-save fastag-form-icon me-1"></i><span class="fastag-form-label">Save</span></button>
            <a href="{{ url_for('admin.user_approval') }}" class="btn btn-secondary ms-2 fastag-form-label">Cancel</a>
        </div>
    </form>
</div>
{% endblock %} 