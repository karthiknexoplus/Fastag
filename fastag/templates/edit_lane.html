{% extends 'base.html' %}
{% block title %}Edit Lane - FASTag Parking{% endblock %}
{% block content %}
<div class="container-fluid" style="max-width: 500px;">
    <h2 class="mb-4"><i class="fas fa-pen-to-square me-2"></i>Edit Lane</h2>
    <form method="POST" class="card p-3 shadow-sm border-0">
        <div class="mb-3">
            <label class="form-label">Plaza ID</label>
            <select name="plaza_id" class="form-select" required>
                {% for loc in locations %}
                <option value="{{ loc['plaza_id'] }}" {% if loc['plaza_id'] == lane['plaza_id'] %}selected{% endif %}>{{ loc['plaza_id'] }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label class="form-label">Plaza Name</label>
            <select name="plaza_name" class="form-select" required>
                {% for loc in locations %}
                <option value="{{ loc['name'] }}" {% if loc['name'] == lane['plaza_name'] %}selected{% endif %}>{{ loc['name'] }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label class="form-label">Lane ID</label>
            <input type="text" name="lane_id" class="form-control" value="{{ lane['lane_id'] }}" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Lane Type</label>
            <select name="lane_type" class="form-select" required>
                <option value="Entry" {% if lane['lane_type'] == 'Entry' %}selected{% endif %}>Entry</option>
                <option value="Exit" {% if lane['lane_type'] == 'Exit' %}selected{% endif %}>Exit</option>
            </select>
        </div>
        <div class="mb-3">
            <label class="form-label">Lane Desc.</label>
            <input type="text" name="lane_desc" class="form-control" value="{{ lane['lane_desc'] }}" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Lane Direction</label>
            <select name="lane_direction" class="form-select" required>
                <option value="N" {% if lane['lane_direction'] == 'N' %}selected{% endif %}>N</option>
                <option value="S" {% if lane['lane_direction'] == 'S' %}selected{% endif %}>S</option>
                <option value="E" {% if lane['lane_direction'] == 'E' %}selected{% endif %}>E</option>
                <option value="W" {% if lane['lane_direction'] == 'W' %}selected{% endif %}>W</option>
            </select>
        </div>
        <div class="mb-3">
            <label class="form-label">Plaza Lane Direction</label>
            <select name="plaza_lane_direction" class="form-select" required>
                <option value="IN" {% if lane['plaza_lane_direction'] == 'IN' %}selected{% endif %}>IN</option>
                <option value="OUT" {% if lane['plaza_lane_direction'] == 'OUT' %}selected{% endif %}>OUT</option>
            </select>
        </div>
        <div class="text-end">
            <button type="submit" class="btn btn-primary"><i class="fas fa-save me-1"></i> Save</button>
            <a href="{{ url_for('lanes.lanes', location_id=lane['location_id']) }}" class="btn btn-secondary ms-2">Cancel</a>
        </div>
    </form>
</div>
{% endblock %} 